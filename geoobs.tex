\documentclass{patmorin}
\listfiles
\usepackage[utf8]{inputenc}
\usepackage{microtype}
\usepackage{amsthm,amsmath,graphicx}
\usepackage{pat}
\usepackage[letterpaper]{hyperref}
\usepackage[table,dvipsnames]{xcolor}
\definecolor{linkblue}{named}{Blue}
\hypersetup{colorlinks=true, linkcolor=linkblue,  anchorcolor=linkblue,
citecolor=linkblue, filecolor=linkblue, menucolor=linkblue,
urlcolor=linkblue} 
\setlength{\parskip}{1ex}

\title{\MakeUppercase{Geodesic Obstacle Representations}}

\author{Pat Morin and Friends}%

%\usepackage[mathlines]{lineno}
%\linenumbers
%\setlength{\linenumbersep}{2.5cm}
%\rightlinenumbers
%\linenumbers
%\newcommand*\patchAmsMathEnvironmentForLineno[1]{%
%  \expandafter\let\csname old#1\expandafter\endcsname\csname #1\endcsname
%  \expandafter\let\csname oldend#1\expandafter\endcsname\csname end#1\endcsname
%  \renewenvironment{#1}%
%     {\linenomath\csname old#1\endcsname}%
%     {\csname oldend#1\endcsname\endlinenomath}}% 
%\newcommand*\patchBothAmsMathEnvironmentsForLineno[1]{%
%  \patchAmsMathEnvironmentForLineno{#1}%
%  \patchAmsMathEnvironmentForLineno{#1*}}%
%\AtBeginDocument{%
%\patchBothAmsMathEnvironmentsForLineno{equation}%
%\patchBothAmsMathEnvironmentsForLineno{align}%
%\patchBothAmsMathEnvironmentsForLineno{flalign}%
%\patchBothAmsMathEnvironmentsForLineno{alignat}%
%\patchBothAmsMathEnvironmentsForLineno{gather}%
%\patchBothAmsMathEnvironmentsForLineno{multline}%
%}


\DeclareMathOperator{\ob}{obs}
\DeclareMathOperator{\planeobs}{plane-obs}

\pagenumbering{roman}
\begin{document}
\begin{titlepage}
\maketitle

\begin{abstract}
  TBD
\end{abstract}
\end{titlepage}

\tableofcontents

\newpage


\section{Introduction}
\pagenumbering{arabic}

An obstacle representation of an (undirected simple) graph $G$ is
pair $(\varphi, S)$ where $\varphi:V(G)\to\R^2$ maps vertices of $G$
to distinct points in $\R^2$ and $S$ is a set of connected subsets of
$\R^2$ with the property that, for every $u,w\in V(G)$, $uw\in E(G)$
if and only if the line segment $\varphi(u)\varphi(w)$ is disjoint from
$\cup S$.  The elements of $S$ are called \emph{obstacles}.

It is easy to see that every graph $G$ has an obstacle representation:
Take any $\varphi$ that does not map three vertices of $G$ onto a single
line. This gives a straight-line drawing of $G$ whose edges form an
arrangement of line segments.  Now take $S$ to consist of the open faces
in this arrangement.  Since every graph has an obstacle representation,
this defines a natural graph parameter called the \emph{obstacle number}:
\[
     \ob(G) = \min\{|S| :\text{$(\varphi, S)$ is an obstacle representation of $G$}\} \enspace .
\]
Since their introduction by So and So, obstacle numbers have been studied
extensively, with the main goal of bounding the obstacle numbers of
various classes of graphs.  It is known that every $n$-vertex graph has
obstacle number $O(n\log n)$ \cite{X} and some $n$-vertex graphs have
obstacle number $\Omega(n/(\log\log n)^2)$ \cite{Y}.  For planar graphs,
our understanding is muddier: There exists planar graphs with obstacle
number 2 \emph{X} (the icosahedron is an example), but the best upper
bound on the obstacle number of an $n$-vertex planar graph is $O(n)$.

For planar graphs there is also a natural notion of a \emph{plane obstacle
representation} $(\varphi, S)$ which is an obstacle representation
in which $\varphi$ defines a plane straight-line embedding of $G$.
This leads to a \emph{plane obstacle number}
\[
    \planeobs(G) = \min\{|S| :\text{$(\varphi, S)$ is a plane obstacle representation of $G$}\} \enspace .
\]
Using Euler's Formula, it is not hard to see that the plane obstacle
number of any $n$-vertex planar graph is $O(n)$: Let $\varphi$ define
any plane drawing of $G$ with no three vertices collinear and take $S$
to be the set of open faces in this drawing.  Since an $n$-vertex planar
graph has at most $2n-4$ faces, this implies $\planeobs(G)\le 2n-4$.
A lower bound of $\Omega(n)$ is also not difficult:  Any plane drawing
of the $\sqrt{n}\times\sqrt{n}$ grid $G_{\sqrt{n}\times\sqrt{n}}$
has at least $n-2\sqrt{n}$ bounded faces. Each of these faces has
at least four vertices and therefore requires at least one obstacle,
so $\planeobs(G_{\sqrt{n}\times\sqrt{n}})\ge n-2\sqrt{n}$.  So and so
\cite{X} have nailed the leading constant by showing that every planar
graph has obstacle number at most $n-x$ and some planar graphs have
obstacle number $n-x$.

\subsection{A Generalization}

We would like to generalize the notion of obstacle numbers to metric
spaces other than $\R^2$ with the Euclidean distance metric.  Before we
can do this, though, we need a notion of a metric space that is also
equipped with some topology.

A \emph{curve} over a set $X$ is a function $f:[0,1]\to X$.  We call
$f(0)$ and $f(1)$ the \emph{endpoints} of the curve $f$.  We denote the
set of curves over $X$ as $\mathcal{C}(X)$.  We will sometimes identify a
curve with its image $I(f)=\{f(t):0\le t\le 1\}$ by making statements like
$f$ is contained in $X'$, which means $I(f)\subseteq X'$.  For a subset
$S\subset X$, we say that $f$ is $S$-avoiding if $I(f)\cap S=\emptyset$.

A \emph{path space} is a triple $(X,d,\rho)$, where $(X,d)$ is a metric
space and $\rho:X^2\to 2^{\mathcal{C}(X)}$ is such that, for every $p,q\in
X^2$, every curve $f\in \rho(p,q)$, and every $0<t<1$,
\begin{enumerate}
  \item $f(0)=p$ and $f(1)=q$;
  \item $d(f(0),f(t)) + d(f(t),f(1)) = d(f(0),f(1))$; 
  \item the curve $g(x)=f(1-x)\in \rho(q,p)$;
  \item the curve $g(x)=f(x)/t$, $x\in[0,t]$ is in $\rho(f(0),f(t))$; and
  \item the curve $h(x)=f(x-t)/(1-t)$, $x\in[t,1]$ is in $\rho(f(t),f(0))$ \enspace .
\end{enumerate} 
The first two properties say that $f$ is a \emph{geodesic} joining $p$
and $q$.  The third property says that $\rho$ is symmetric. The last
two properties say that $\rho$ is closed under taking subcurves.

For example, we can take $X=\R^2$, $d$ to be the Euclidean distance,
and, for every $p,q\in\R^2$, $\rho(p,q)$ is the set containing only
the line segment joining $s$ and $t$.  A more interesting example
(and one we will study) is when we take $X=\R^2$, $d$ to be the $L_1$
distance and $\rho(p,q)$ to be the set of all x-y-monotone paths from
$p$ to $q$. As a discrete example, we could $X$ to be the vertex set
of some graph $G$, $d(p,q)$ to be distance in $G$ from $p$ to $q$, 
and $\rho(p,q)$ to be set of all shortest paths in $G$ from $p$ to $q$.

If $(X,d,\rho)$ is a path space, and $S$ is a subset of $X$ then, for
every $p,q\in X$, we define
\[
    \rho_{\setminus S}(p,q) = \{f\in\rho(p,q) : \text{$f$ is $S$-avoiding} \}  \}
\]
This definition captures the intuition the elements of $S$ are obstacles
that block some of the geodesics in $\rho(p,q)$.

With these definitions in hand, we are ready to define a generalization of
obstacle representations.  For a graph $G$, a \emph{$(X,d,\rho)$ obstacle
representation} of $G$ is a pair $(\varphi, S)$ where $\varphi:V(G)\to X$
is a one-to-one mapping and $S$ is a subset of $X$ with the property that,
for every $u,w\in V(G)$, $uw\in E(G)$ if and only if $\rho_{\setminus
S}(\varphi(u),\varphi(w))\neq\emptyset$. In english: There is a shortest
path in $(X,d,\rho)$ from $\varphi(u)$ to $\varphi(w)$ that avoids the
obstacles in $S$.

Note that, for a given $(X,d,\rho)$ it is not at all obvious whether every
graph $G$ has an \emph{$(X,d,\rho)$ obstacle representation}.  Indeed,
the focus of this paper is to determine, for a class $\mathcal{G}$ of
graphs and a particular path space $(X,d,\rho)$, whether or not every
member of $\mathcal{G}$ has an $(X,d,\rho)$ obstacle representation.
As it happens, this question is closely related to certain types of
embeddings of $G$ into $X$.

An \emph{embedding} $(\varphi,c)$ of a graph $G$ into $X$ consists
of a one-to-one map $\varphi:V(G)\to X$ and a function $c:\E(G)\to
\mathcal{C}(X)$.  The embedding is \emph{geodesic} if, for every $uw\in
E(G)$, $c(uw)$ is a geodesic.  The embedding is \emph{non-crossing} if,
for every $uw,xz\in E(G)$ with $\{u,w\}\cap \{x,z\}=\emptyset$, $c(uw)$
is disjoint from $c(xz)$.  Note that this definition says nothing about
two edges that share a common vertex.

Given a $(X,d,\rho)$ obstacle representation $(\varphi,S)$ of
$G$, we can choose, for each $uw\in E(G)$, some curve $c(uw)$ in
$\rho(\varphi(u),\varphi(w))$ that does not intersect $\cup S$.  The pair
$(\varphi,c)$ then gives a geodesic embedding of $G$ into $X$.  If it
is possible to choose $c$ so that $(\varphi,c)$ is also non-crossing,
then we say that the representation $(\varphi,S)$ is non-crossing.

In this paper, we mostly focus on non-crossing $(X,d,\rho)$
obstacle representations where $X=\R^2$ and $d$ is some
polygonal distance function.  Let $d_k$ denote the distance
function over $\R^2$ where a ``circle'' is a regular $2k$-gon.
Formally, 
\[  
   d_k(p,q)=\min\left\{\sum_{i=1}^{k-1}|a_i|: 
                        q-p=\sum_{i=0}^{k-i}a_iv_i\right\} \enspace ,
\]
where $v_i=(\cos(i\pi/k), \sin(i\pi/k))$. Let $\rho_k(p,q)$ be the set
of all shortest paths from $p$ to $q$ under the distance function $d_k$.
We prove the following results:
\begin{enumerate}
   \item For any integer $r$, there is a graph that does not have a
     $(\R^2,d_r,\rho_r)$ obstacle representation.
   \item Every planar graph of treewidth at most 2 (and hence every
     outerplanar graph) has a non-crossing $(\R^2,d_2,\rho_2)$ obstacle
     representation.
   \item Not every planar 3-tree has a non-crossing $(\R^2,d_2,\rho_2)$
     obstacle representation.
   \item Not every planar 4-connected triangulation has a 
     non-crossing $(\R^2,d_2,\rho_2)$ obstacle representation.
   \item Every planar graph of treewidth at most 3 has a 
     non-crossing $(\R^2,d_3,\rho_3)$ obstacle representation.
   \item Every planar graph has a non-crossing $(\R^2,d_{5},\rho_{5})$
     obstacle representation.
\end{enumerate}

\subsection{Related Work}

Biedl and Mehrabi study so-called grid obstacle representations \cite{X}...


\section{Preliminaries}

Here we present some definitions and observations that are useful
throughout the rest of the paper.  

\subsection{Generic Obstacle Representations}

We say that a set of points in $\R^2$ is \emph{$d_k$-generic},
if it contains no pair of distinct $p$ and $q$ such that $p-q=
t(\cos(i\pi/k),\sin(i\pi/k)$ for some integer $i$.

\begin{obs}\obslabel{generic}
  If $G$ has a $(\R^2,d_k,\rho_k)$ obstacle representation, then it
  has an $(\R^2,d_k,\rho_k)$ obstacle representation $(\varphi, S)$
  in which $\{\varphi(u):u\in V(G)\}$ is $d_k$-generic.
\end{obs}

\begin{proof}
   Given an obstacle representation that is non $d_k$-generic, we can
   perform a sufficiently small rotation of the entire representation
   so that it becomes $d_k$-generic.
\end{proof}



\subsection{$k$-Monotone Curves}

For any $k\in\N$, $i\in\{0,\ldots,2k-1\}$, and $u\in\R^2$, define the
$i$th $k$-sector of $u$ as
\[
   Q^{k}_i(u) = 
     \{ u+r: r\in\R^2,\,\lfloor i\pi/k < \angle(u+(1,0),u,r) < (i+1)\pi/k \}
\]
Where $\angle (a,b,c)\in[0,2\pi)$ denotes the counterclockwise angle
between the segments $ab$ and $cb$.  A curve $f:[0,1]\to\R^2$ is
\emph{$k$-monotone in direction $i$} if $f(b)\in Q^k_i(f(a))$ for all
$0 \le a < b \le 1$.  We say that $f$ is \emph{$k$-monotone} if there
exists some $i\in\{0,\ldots,2k-1\}$ such that $f$ is $k$-monotone in
direction $i$.  

We will now start naming curves using their two endpoints.  Thus,
if we say $uw$ is a curve, then we mean that $uw$ is a curve $f$ with
$f(0)=u$ and $f(1)=w$.  First we observe that every $k$-monotone curve
is a geodesic:

\begin{obs}
   Every $k$-monotone curve $uw$ is in $\rho_k(u,w)$, i.e., for $p\in
   uw$, $d_k(u,w)=d_k(u,p)+d_k(p,w)$.
\end{obs}

Next every is an important observation about $k$-monotone curves that cross.

\begin{obs}\obslabel{quadrilateral}
   If $uw$ and $xz$ are curves that are each $k$-monotone direction in $i$
   and $uw\cap xz$ contains at least one point $p$, then $d_k(u,z) =
   d_k(u,p)+d_k(p,z)$ and $d_k(x,w)=d_k(x,p)+d_k(p,w)$.
\end{obs}

\subsection{$k$-Monotone Embeddings}

An embedding $(\varphi,c)$ of a graph $G$ into $\R^2$
is \emph{plane} if, for every edge $uw\in E(G)$, $c(uw)$
is disjoint from $\{\varphi(x) : x\in V(G)\setminus\{u,w\}\}$
and, for each pair of distinct edges $uw,xz\in E(G)$, $c(uw)\cap
c(xz)\subseteq\{\varphi(u),\varphi(w),\varphi(x),\varphi(z)\}$. 

From this point onwards, when we are discussing a particular embedding
of $G$, we will identify each vertex $u$ of $G$ with $\varphi(u)$ and
each edge $uw$ of $G$ with the curve $c(uw)$.

An embedding of $G$ into $\R^2$ is a \emph{$k$-obstacle embedding} if each edge $uw$ of $G$ is $k$-monotone and, for each $u,w\in V(G)$, the embedding contains a $k$-monotone path from $u$ to $w$ if and only if $uw\in E(G)$.
The following lemma shows a
relationship between $k$-obstacle embeddings and $(\R^2,d_k,\rho_k)$
obstacle representations.


\begin{lem}\lemlabel{monotone}
   A graph $G$ has a $(\R^2,d_k,\rho_k)$ obstacle representation if and
   only if $G$ has a $k$-obstacle embedding with the property that,
   if two edges $uw$ and $xz$ are both $k$-monotone in direction $i$
   and have a point in common, then $uz$ and $xw$ are also edges of $G$.
\end{lem}

\begin{proof}
   First, suppose $G$ has a $k$-obstacle embedding $(\varphi,c)$.
   Then we obtain an obstacle representation $(\varphi,S)$ by taking $S=
   \R^2\setminus \bigcup_{uw\in E(G)} uw$.

   If $uw\in E(G)$ then $uw$ is an $S$-avoiding $k$-monotone curve.  On the other hand, if $uw\not\in E(G)$ then 



 that is contained in $\R^2\setminus S$.



the embedding $f$ of $uw$ is a $k$-monotone
   curve that avoids $\cup S$.  




Thus, $f\in\rho(u,w)$ and $f\subseteq
   \R^2\setminus{\cup S}$.  On the other hand, if $uw\not\in G$,
   then any path $f$ from $u$ to $w$ in $\R^2\setminus{\cup S}$ is
   a path in the embedding of $G$ and is therefore not $k$-monotone,
   so $f\not\in \rho(u,w)$.

   Next we argue that a $(\R^2,d_k,\rho_k)$ non-crossing obstacle
   representation $(\varphi, S)$ gives the necessary plane embedding
   of $G$.  The embedding we choose maps each vertex $u\in V(G)$ onto
   $\varphi(u)$.  By \obsref{generic} we can assume that the resulting
   point set is $d_k$-generic.  

   Recall that a non-crossing obstacle representation must have a
   function $c:E(G)\to\mathcal{C}(\R^2)$ that maps edges of $G$ onto
   curves joining their endpoints.  In our case, the edge between two
   vertices mapped onto points $p$ and $q$ is mapped onto a curve in
   $\rho_k(p,q)$ and, since $\{p,q\}$ is $d_k$-generic, this curve is
   (or can be made) $k$-monotone.

   The resulting embedding has all the properties required except that
   it may not be plane.  In particular, we may have edges $ux$ and $uz$ 
   such that $c(ux)$ and $c(uz)$ cross each other.
   In this case, we observe that both
   curves are $k$-monotone in direction $i$ for the same value of $i$.
   This makes it easy to eliminate crossings by repeatedly swapping
   segments of the curves and making local modifications around the
   crossings.  Repeating this gives the desired embedding of $G$.
\end{proof}


\begin{cor}\corlabel{plane-monotone}
   A graph $G$ has a non-crossing $(\R^2,d_k,\rho_k)$ obstacle
   representation if and only $G$ has a plane $k$-monotone embedding.
\end{cor}

\subsection{Treewidth}

A \emph{$k$-tree} is any graph that can be obtained in the following
manner:  We begin with a clique on $k+1$ vertices and then we repeatedly
select a subset of the vertices that form a $k$-clique $K$ and add a
new vertex adjacent to every element in $K$.  The class of $k$-trees is
exactly the set of edge-maximal graphs of treewidth $k$.  We will make
use of the following lemma, due to Dujmovi\'c and Wood \cite[Lemma~Y]{X}
in some recursive embeddings of partial 2- and 3-trees.

\begin{lem}\lemlabel{dujwood}
   Every $k$-tree is either a clique on $k+1$ vertices or it contains a non-empty independent set $S$ and a vertex $u\not\in S$, such that:
\begin{enumerate}
   \item $G\setminus S$ is a $k$-tree;
   \item $\deg_{G\setminus S}(u)=k$; and 
   \item every element in $S$ is adjacent to $u$ and $k-1$ elements of
   $N_{G\setminus S}(u)$.
\end{enumerate}
\end{lem}

A graph $G$ is called a \emph{partial $k$-tree} if it is a subgraph of
some $k$-tree.  The class of partial $k$-trees is exactly the class of
graphs of treewidth at most $k$.  The class of partial 1-trees is the
class of forests.  All partial 2-trees are planar, every outerplanar graph
is a partial 2-tree, and every series-parallel graph is a partial 2-tree.
Not every 3-tree, and hence not every partial 3-trees is planar, since
$K_{3,3}$ is a 3-tree.

\section{General Representations}

\begin{thm}
  There exists a constant $C>0$ such that, for every $k\in \N$, and every
  $n\ge Ck^2$, there exist an $n$-vertex bipartite graph $G$ with maximum
  degree $O(k)$ that has no $(\R^2,d_k,\rho_k)$ obstacle representation.
\end{thm}

\begin{proof}
   Erd\H{o}s, R\'enyi, and S\'os \cite{erdos.renyi.ea:1966} showed that,
   for infinitely many values of $n$, there exists a bipartite graph
   $G$ with $n$ vertices $cn^{3/2}$ edges, maximum degree $cn^{1/2}$
   and that contains no $K_{2,2}$ subgraph.  Let $(\varphi,S)$ be a
   $(\R^2,d_k,\rho_k)$ obstacle representation and let $(\varphi,c)$ be
   an embedding of $G$ obtained by taking $c(uw)$ to be some shortest
   $S$-avoiding path from $\phi(u)$ to $\phi(w)$.  For brevity, we now
   identify each vertex $u\in V(G)$ with the point $\varphi(u)$ and each
   edge $uw\in E(G)$ with the curve $c(uw)$.

   Each edge $uw\in E(G)$ is $k$-monotone in direction $i$ for some
   $i\in\{0,\ldots,k-1\}$.  By the pigeonhole principle, there is
   some direction $i$ for which at least $cn^{3/2}/k\ge cCn$ edges
   are monotone in direction $i$.  By Euler's formula, if $cC\ge 3$,
   the graph consisting only of these edges is not planar, therefore
   there is some pair of edges $uw$ and $xz$ that are both monotone in
   direction $i$ and that have some point $p$ in common.

   But now we have $d(u,z)=d(u,p)+d(p,z)$.  Therefore, there is a shortest
   $S$-avoiding path from $u$ to $z$, so $uz\in E(G)$.  Similarly, there
   is a shortest $S$-avoiding path from $x$ to $w$, so $xw\in E(G)$.
   But this is a contradiction since it implies that $u$, $w$, $x$,
   and $z$ form a $K_{2,2}$.
\end{proof}


\section{Non-Crossing Representations}

\section{Grid Obstacle Representations}

In this section we focus on $d_4$ obstacle embeddings.

\begin{thm}
  Every partial 2-tree has a straight-line $d_4$ obstacle embedding.
\end{thm}

\begin{proof}
  Let $G$ be a partial 2-tree. We can, without loss of generality, assume
  that $G$ is connected.  If $|V(G)|< 4$, then the result is trivial, so
  we can assume $|V(G)|\ge 4$.  We now proceed by induction on $|V(G)|$.

  Let $T=T(G)$ be a 2-tree with vertex set $V(G)$ and that contains $G$.
  Apply \lemref{dujwood} to find the vertex set $S$ and the vertex $u$.
  Let $x$ and $y$ be the neighbours of $u$ in $T\setminus S$. Now apply
  induction to find a straight-line $d_4$ obstacle embedding of the
  graph $G'$ whose vertex set is $V(G')=V(G)\setminus S$ and whose edge
  set is $E(G')=E(G\setminus S)\cup\{ux,uy\}$.

  Now observe that, since $u$ has degree 2 in $G'$ and the edges $ux$
  and $uy$ are in $G'$, this embedding does not contain any monotone path
  of the form $uxw$ or $uyw$ for any $w\in V(G)\setminus\{u,x,y\}$.
  Therefore, if we place the vertices in $S$ sufficiently close to $u$,
  we will not create any monotone path of the form $ayw$ or $axw$ for
  any $a\in S$ and any $w\in V(G)\setminus \{u,x,y\}$.  What remains
  is to show how to place the elements of $S$ in order to avoid unwanted
  monotone paths of the form $uay$, $uax$, or $aub$ for any $a,b\in S$.
  There are three cases to consider (see \figref{2-tree-proof}):

  \begin{figure}
    \begin{tabular}{cccccc}
       \multicolumn{6}{c}{\includegraphics{figs/2tree-1}} \\
       \multicolumn{6}{c}{1(a)} \\
       \multicolumn{3}{c}{\includegraphics{figs/2tree-2}} & 
       \multicolumn{3}{c}{\includegraphics{figs/2tree-3}} \\
       \multicolumn{3}{c}{2(a)} &
       \multicolumn{3}{c}{2(c)} \\
       \multicolumn{2}{c}{\includegraphics{figs/2tree-4}} &
       \multicolumn{2}{c}{\includegraphics{figs/2tree-5}} &
       \multicolumn{2}{c}{\includegraphics{figs/2tree-6}} \\
       \multicolumn{2}{c}{3(a)} &
       \multicolumn{2}{c}{3(b)} &
       \multicolumn{2}{c}{3(c)} 
    \end{tabular}
  \end{figure}
  
  \begin{enumerate}

  \item  $x\in Q_i(u)$ and $y\in Q_{i+2}(u)$ for some
  $i\in\{0,\ldots,3\}$. Without loss of generality, assume that
  $Q_{i+3}(u)$ does not intersect the segment $xy$. Then we can embed the
  elements of $S$ in $Q_{i+3}$ without creating any new monotone paths.

  \item $x,y\in Q_i(u)$ for some $i\in\{0,\ldots,3\}$. There are two subcases:
    \begin{enumerate}
    \item At least one of $ux$ or $uy$ is in $E(G)$. Suppose $ux\in E(G)$.  Then we embed $S_x$ in $Q_i(u)$ and embed $S_y$ in $Q_{i+1}(u)$.  The only monotone paths this creates are of the form $uax$ with $a\in S_x$, which is acceptable since $ux\in E(G)$.
    \item Neither $ux$ nor $uy$ is in $E(G)$. In this case, we embed all of $S$ in $Q_{i+2}(u)$.  This does not create any new monotone paths.
  \end{enumerate}

  \item $x\in Q_i(u)$ and $y\in Q_{i+1}(u)$ for some $i\in\{0,\ldots,3\}$.  We have two subcases to consider:
  \begin{enumerate}
    \item $|\{ux,uy\}\cap E(G)|=1$.  In this case, assume $ux\in E(G)$. Then we embed the vertices of $S_x$ in $Q_i(u)$ and we embed the vertices of $S_y$ in $Q_{i+3}(u)$.  The only monotone paths this creates are of the form $uax$ with $a\in S_x$, which is acceptable since $ux\in E(G)$.
    \item $|\{ux,uy\}\cap E(G)|=2$.  In this case we embed the vertices of $S_x$ in $Q_i(u)$ and we embed the vertices of $S_y$ in $Q_{i+1}(u)$.  The only monotone paths this creates are of the form $uax$ with $a\in S_x$ and $uby$ with $b\in S_y$, which is acceptable since $ux,uy\in E(G)$.
    \item $|\{ux,uy\}\cap E(G)|=0$.  In this case, we embed all of $S$ into $Q_{i+2}\cup Q_{i+3}$.  This does not create any new monotone paths.

    {:.center}
    ![2-tree case 2.1](images/2tree-4.svg)
    ![2-tree case 2.1](images/2tree-5.svg)
    ![2-tree case 2.1](images/2tree-6.svg)
\end{enumerate}
\end{enumerate}
This completes the proof.
\end{proof}

$(\R^2,d_4,\rho_4)$ obstacle representation.







\section{General Graphs}







\bibliographystyle{plain}
\bibliography{geoobs}

\end{document}


